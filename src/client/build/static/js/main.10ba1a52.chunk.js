(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){},43:function(e,a,t){e.exports=t(99)},55:function(e,a){},57:function(e,a){},85:function(e,a){},87:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(18),c=t.n(s),r=t(109),m=(t(28),t(14)),o=t.n(m);const i=new o.a.Agent({rejectUnauthorized:!1});var u=e=>{let{loginCheck:a}=e;const[t,s]=Object(l.useState)(""),[c,m]=Object(l.useState)(""),[o,u]=Object(l.useState)(""),[d,E]=Object(l.useState)(!1);a();return n.a.createElement("div",{className:"auth-container"},n.a.createElement("div",{className:"auth-form-wrapper"},n.a.createElement("h2",{className:"auth-title"},"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),E(!0),u("");try{const e=await r.a.post("auth/v1/signIn",{username:t,password:c},{httpsAgent:i});200===e.status?(localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("refreshToken",e.data.refreshToken),a()):u(e.data)}catch(l){u("\u05d4\u05ea\u05e8\u05d7\u05e9\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1."),console.error("Login error:",l)}finally{E(!1)}},className:"auth-form"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"email",placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",value:t,onChange:e=>s(e.target.value),required:!0,className:"auth-input"})),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",value:c,onChange:e=>m(e.target.value),required:!0,className:"auth-input"})),n.a.createElement("button",{type:"submit",className:`auth-submit ${d?"loading":""}`,disabled:d},d?"\u05de\u05ea\u05d7\u05d1\u05e8...":"\u05d4\u05ea\u05d7\u05d1\u05e8"),o&&n.a.createElement("div",{className:"auth-alert"},o)),n.a.createElement("div",{className:"auth-footer"},n.a.createElement("p",null,"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df \u05e2\u05d3\u05d9\u05d9\u05df?"," ",n.a.createElement("a",{href:"/signup",className:"auth-link"},"\u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05db\u05e9\u05d9\u05d5")))))};t(87);const d=e=>{window.location.href=e};var E=()=>{const e=window.location.pathname;return n.a.createElement("nav",{className:"bottom-menu"},n.a.createElement("button",{onClick:()=>d("/"),className:"/"===e?"active":""},n.a.createElement("span",{className:"menu-icon"},"\ud83c\udfb2"),"\u05d4\u05e0\u05d9\u05d7\u05d5\u05e9\u05d9\u05dd"),n.a.createElement("button",{onClick:()=>d("/rules"),className:"/rules"===e?"active":""},n.a.createElement("span",{className:"menu-icon"},"\ud83d\udcdc"),"\u05d4\u05d7\u05d5\u05e7\u05d9\u05dd"),n.a.createElement("button",{onClick:()=>d("/league"),className:"/league"===e?"active":""},n.a.createElement("span",{className:"menu-icon"},"\ud83c\udfc6"),"\u05d4\u05dc\u05d9\u05d2\u05d4"),n.a.createElement("button",{onClick:()=>d("/profile"),className:"/profile"===e?"active":""},n.a.createElement("span",{className:"menu-icon"},"\ud83d\udc64"),"\u05d4\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"))},p=t(103),N=t(104),v=t(105),b=t(106),g=(t(88),t(100)),h=t(101),f=t(102);t(89);var y=e=>{let{status:a,className:t=""}=e;return n.a.createElement("div",{className:`winning-status ${t}`},(()=>{switch(a){case"winning":return n.a.createElement("div",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full"},n.a.createElement(g.a,{size:16,className:"stroke-2"}),n.a.createElement("span",{className:"text-sm font-medium"},"\u05de\u05e0\u05e6\u05d7"));case"losing":return n.a.createElement("div",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full"},n.a.createElement(h.a,{size:16,className:"stroke-2"}),n.a.createElement("span",{className:"text-sm font-medium"},"\u05de\u05e4\u05e1\u05d9\u05d3"));case"pending":return n.a.createElement("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full"},n.a.createElement(f.a,{size:16,className:"animate-spin stroke-2"}),n.a.createElement("span",{className:"text-sm font-medium"},"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da"));default:return null}})())};var w=e=>{let{id:a,team1:t,team2:s,startTime:c,betType:r,onPlaceBet:m,disabled:o,points:i,teamSelected:u,win:d=0,howWins:E}=e;const[g,h]=Object(l.useState)(Number(i)||100),[f,w]=Object(l.useState)(u||null),k=e=>{if(!o){const a=Math.max(100,g+e);h(a)}},S=e=>{o||w(e===f?null:e)},j=o&&0!==d?d*Number(i):0,O=E==u?"winning":0==E?"pending":"losing",C=e=>o?u===e:f===e;return n.a.createElement("div",{className:`betting-card ${o?"disabled-card":""}`,dir:"rtl"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"header-left"},n.a.createElement("h2",{className:"bet-type"},r),o&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"disabled-badge"},n.a.createElement(p.a,{className:"lock-icon",size:16}),n.a.createElement("span",null,"\u05d4\u05d9\u05de\u05d5\u05e8 \u05e1\u05d2\u05d5\u05e8")),O&&n.a.createElement(y,{status:O}))),n.a.createElement("div",{className:"date-display"},n.a.createElement(N.a,{className:"date-icon"}),n.a.createElement("span",null,c))),n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"teams-section"},n.a.createElement("div",{className:`team-option ${C(1)?"selected":""} ${o?"disabled":"clickable"}`,onClick:()=>S(1),role:"button",tabIndex:o?-1:0},n.a.createElement("div",{className:"team-status"},n.a.createElement("div",{className:"team-logo",style:{backgroundImage:`url(https://via.placeholder.com/40?text=${t[0]})`}}),o&&1===u&&n.a.createElement("div",{className:"win-indicator"},n.a.createElement(v.a,{className:"trophy-icon",size:16}),n.a.createElement("span",{className:"win-amount"},"+",j)),o&&2===u&&n.a.createElement("div",{className:"loss-indicator"},n.a.createElement("span",{className:"loss-amount"},"-",i))),n.a.createElement("span",{className:"team-name"},t),C(1)&&n.a.createElement("div",{className:"selected-indicator"},n.a.createElement("span",null,"\u05e0\u05d1\u05d7\u05e8"))),n.a.createElement("span",{className:"vs"},"VS"),n.a.createElement("div",{className:`team-option ${C(2)?"selected":""} ${o?"disabled":"clickable"}`,onClick:()=>S(2),role:"button",tabIndex:o?-1:0},n.a.createElement("div",{className:"team-status"},n.a.createElement("div",{className:"team-logo",style:{backgroundImage:`url(https://via.placeholder.com/40?text=${s[0]})`}}),o&&2===u&&n.a.createElement("div",{className:"win-indicator"},n.a.createElement(v.a,{className:"trophy-icon",size:16}),n.a.createElement("span",{className:"win-amount"},"+",j)),o&&1===u&&n.a.createElement("div",{className:"loss-indicator"},n.a.createElement("span",{className:"loss-amount"},"-",i))),n.a.createElement("span",{className:"team-name"},s),C(2)&&n.a.createElement("div",{className:"selected-indicator"},n.a.createElement("span",null,"\u05e0\u05d1\u05d7\u05e8")))),!o&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"points-section"},n.a.createElement("div",{className:"points-label"},n.a.createElement(b.a,{className:"points-icon"}),n.a.createElement("span",null,"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05dc\u05d4\u05d9\u05de\u05d5\u05e8")),n.a.createElement("div",{className:"points-controls"},n.a.createElement("button",{className:"points-btn",onClick:()=>k(-100)},"-100"),n.a.createElement("span",{className:"points-display"},g),n.a.createElement("button",{className:"points-btn",onClick:()=>k(100)},"+100"))),n.a.createElement("div",{className:"submit-section"},n.a.createElement("button",{className:`submit-bet ${f?"active":"disabled"}`,onClick:()=>{f&&!o&&m({id:a,team:f,points:g})},disabled:!f},"\u05e9\u05dc\u05d7 \u05e0\u05d9\u05d7\u05d5\u05e9")))))};const k=new o.a.Agent({rejectUnauthorized:!1}),S=r.a.create({headers:{"Content-Type":"application/json"},httpsAgent:k});S.interceptors.request.use(e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),S.interceptors.response.use(e=>e,async e=>{const a=e.config;if(401===e.response.status&&!a._retry){a._retry=!0;try{const e=localStorage.getItem("refreshToken"),l=await r.a.post("/auth/v1/refreshToken",{refreshToken:e}),{accessToken:n,refreshToken:s}=l.data;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",s),S.defaults.headers.common.Authorization=`Bearer ${n}`,S(a)}catch(t){return console.error("Token refresh failed:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(t)}}return Promise.reject(e)});var j=t(107),O=t(108);t(90);const C=e=>{let{username:a,points:t}=e;const[s,c]=Object(l.useState)(!1),[r,m]=Object(l.useState)(t);return Object(l.useEffect)(()=>{if(r!==t){c(!0),m(t);const e=setTimeout(()=>{c(!1)},300);return()=>clearTimeout(e)}},[t,r]),n.a.createElement("header",{className:"user-header"},n.a.createElement("div",{className:"header-container"},n.a.createElement("div",{className:"header-content"},n.a.createElement("div",{className:"user-info"},n.a.createElement("div",{className:"avatar-container"},n.a.createElement(j.a,{className:"user-icon"})),n.a.createElement("div",{className:"main-info"},n.a.createElement("div",{className:"info-row"},n.a.createElement("h2",{className:"username"},a),n.a.createElement("div",{className:"points-badge"},n.a.createElement(O.a,{className:"award-icon"}),n.a.createElement("span",{className:`points-value ${s?"updating":""}`},t))))))))},T=()=>n.a.createElement("header",{className:"user-header"},n.a.createElement("div",{className:"header-container"},n.a.createElement("div",{className:"header-content"},n.a.createElement("div",{className:"user-info"},n.a.createElement("div",{className:"avatar-container skeleton"}),n.a.createElement("div",{className:"main-info"},n.a.createElement("div",{className:"info-row"},n.a.createElement("div",{className:"username skeleton",style:{width:"120px",height:"24px"}}),n.a.createElement("div",{className:"points-badge skeleton",style:{width:"80px",height:"28px"}})))))));async function x(){return(await S.get("ligaUser/v1/getUser")).data}t(91),t(92);var A=e=>{let{isOpen:a,onClose:t,onSave:s}=e;const[c,r]=Object(l.useState)(""),[m,o]=Object(l.useState)(""),[i,u]=Object(l.useState)([]),[d,E]=Object(l.useState)(!1),[p,N]=Object(l.useState)(!1),[v,b]=Object(l.useState)(null);Object(l.useEffect)(()=>(a?(document.body.style.overflow="hidden",g()):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);const g=async()=>{N(!0),b(null);try{const a=await S.get("/leagues/v1/getAllLeagues");u(a.data)}catch(e){b("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05dc\u05d9\u05d2\u05d5\u05ea"),console.error("Error fetching leagues:",e)}finally{N(!1)}};return a?n.a.createElement("div",{className:`dialog-overlay ${a?"open":""}`},n.a.createElement("div",{className:"dialog-container"},n.a.createElement("div",{className:"dialog-header"},n.a.createElement("h2",{className:"dialog-title"},"\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05de\u05e9\u05d7\u05e7")),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"\u05db\u05d9\u05e0\u05d5\u05d9"),n.a.createElement("input",{type:"text",className:"form-input",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05d9\u05e0\u05d5\u05d9",value:c,onChange:e=>r(e.target.value)})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"\u05dc\u05d9\u05d2\u05d4"),p?n.a.createElement("div",{className:"loading-spinner-small"}):v?n.a.createElement("div",{className:"error-message"},v,n.a.createElement("button",{className:"retry-button",onClick:g},"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1")):n.a.createElement("select",{className:"form-select",value:m,onChange:e=>o(e.target.value),disabled:p},n.a.createElement("option",{value:""},"\u05d1\u05d7\u05e8 \u05dc\u05d9\u05d2\u05d4"),i.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name))))),n.a.createElement("div",{className:"dialog-footer"},n.a.createElement("button",{className:"btn btn-primary",onClick:async()=>{if(c&&m){E(!0);try{await s({nickname:c,league:m}),t()}catch(v){alert("\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d4\u05dc\u05d9\u05da \u05d4\u05d4\u05e8\u05e9\u05de\u05d4"),console.error("Error saving user data:",v)}finally{E(!1)}}else alert("\u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea")},disabled:d||!c||!m},d?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"loading-spinner"}),"\u05e9\u05d5\u05de\u05e8..."):"\u05e9\u05de\u05d5\u05e8")))):null};var B=()=>{const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)(""),[c,r]=Object(l.useState)(0),[m,o]=Object(l.useState)(!0),[i,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(!1);Object(l.useEffect)(()=>{N()},[]);const N=async()=>{try{o(!0),u(null);const[t,l,n]=await Promise.all([S.get("bets/v1/getBets"),S.get("bets/v1/getUserBets"),x()]);if(!n.nickname)return void p(!0);!function(e,t){for(const a in e)t.forEach(t=>{t.betid===e[a].id&&(e[a].points=t.points,e[a].team=t.howwins,e[a].win=t.win)});a(e)}(t.data,l.data),s(n.nickname),r(n.points)}catch(e){u("\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"),console.error("Error fetching data:",e)}finally{o(!1)}},v=()=>{N()},b=async e=>{await S.post("/bets/v1/setBet",e),await N()};return n.a.createElement("div",{className:"events-page"},n.a.createElement(A,{isOpen:d,onClose:()=>p(!1),onSave:async e=>{try{await S.post("ligaUser/v1/createUser",e),await N()}catch(i){console.error("Error registering user:",i),u("\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e8\u05d9\u05e9\u05d5\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9")}}}),n.a.createElement("div",{className:"top-menu"},t?n.a.createElement(C,{username:t,points:c}):n.a.createElement(T,null)),n.a.createElement("div",{className:"container"},m?[...Array(3)].map((e,a)=>n.a.createElement("div",{key:a,className:"loading-skeleton"})):i?n.a.createElement("div",{className:"error-state"},n.a.createElement("p",null,i),n.a.createElement("button",{onClick:v},"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1")):0===e.length?n.a.createElement("div",{className:"empty-state"},n.a.createElement("div",{className:"empty-state-icon"},"\ud83c\udfb2"),n.a.createElement("p",{className:"empty-state-text"},"\u05d0\u05d9\u05df \u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05db\u05e8\u05d2\u05e2"),n.a.createElement("p",{className:"empty-state-subtext"},"\u05d1\u05d3\u05d5\u05e7 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8")):n.a.createElement("div",{className:"events-list"},e.map(e=>n.a.createElement(w,{key:e.id,id:e.id,team1:e.teamA,team2:e.teamB,startTime:e.dateTime,disabled:e.disable,win:Number(e.win),betType:e.betName,points:e.points,teamSelected:e.team,onPlaceBet:b,howWins:e.howWins})))),n.a.createElement("button",{className:"refresh-button",onClick:v,"aria-label":"\u05e8\u05e2\u05e0\u05df \u05e8\u05e9\u05d9\u05de\u05d4"},"\ud83d\udd04"),n.a.createElement(E,null))};t(93),t(94),t(95);var I=()=>{const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)(!1),[c,r]=Object(l.useState)(""),[m,o]=Object(l.useState)(null),[i,u]=Object(l.useState)(!1);Object(l.useEffect)(()=>{d()},[]);const d=async()=>{u(!0);try{const e=await S.get("/leagues/v1/getAllLeagues");a(0===Object.keys(e.data).length?[]:e.data)}catch(m){console.error("Error fetching leagues:",m),o("Failed to load leagues")}finally{u(!1)}};return n.a.createElement("div",{className:"league-manager"},n.a.createElement("div",{className:"league-header"},n.a.createElement("h3",{className:"section-title"},"Leagues"),n.a.createElement("button",{className:"add-league-button",onClick:()=>s(!0)},"Add League")),m&&n.a.createElement("div",{className:"error-message"},m),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{className:"data-table"},n.a.createElement("thead",{className:"table-header"},n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,e.map(e=>n.a.createElement("tr",{key:e.id,className:"table-row"},n.a.createElement("td",{className:"table-cell"},e.id),n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell"},n.a.createElement("div",{className:"action-buttons"},n.a.createElement("button",{className:"action-button remove-button",onClick:()=>(async e=>{try{await S.post("leagues/v1/removeLeague",{id:e}),await d()}catch(m){console.error("Error removing league:",m),o("Failed to remove league")}})(e.id)},"Remove")))))))),t&&n.a.createElement("div",{className:"modal-overlay",onClick:()=>s(!1)},n.a.createElement("div",{className:"modal-content",onClick:e=>e.stopPropagation()},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h3",{className:"modal-title"},"Add New League"),n.a.createElement("button",{className:"modal-close",onClick:()=>s(!1)},"\xd7")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim()){u(!0);try{await S.post("leagues/v1/insertLeague",{leagueName:c}),await d(),r(""),s(!1),o(null)}catch(m){console.error("Error adding league:",m),o("Failed to add league")}finally{u(!1)}}else o("Please enter a league name")},className:"modal-form"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"leagueName"},"League Name"),n.a.createElement("input",{type:"text",id:"leagueName",value:c,onChange:e=>r(e.target.value),className:"modal-input",required:!0})),n.a.createElement("button",{type:"submit",className:"submit-button",disabled:i},i?"Adding...":"Add League"))))))};const P=e=>{let{isOpen:a,onClose:t,children:l}=e;return a?n.a.createElement("div",{className:"modal-overlay",onClick:t},n.a.createElement("div",{className:"modal-content",onClick:e=>e.stopPropagation()},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h3",{className:"modal-title"},"Add New"),n.a.createElement("button",{className:"modal-close",onClick:t},"\xd7")),n.a.createElement("div",{className:"modal-body"},l))):null};var $=()=>{const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)([]),[c,r]=Object(l.useState)(["Winner","Over/Under","Both Score"]),[m,o]=Object(l.useState)({teamA:"",teamB:"",betName:"",date:"",hour:""}),[i,u]=Object(l.useState)(!1),[d,E]=Object(l.useState)(!1),[p,N]=Object(l.useState)({name:"",image:null}),[v,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(""),[f,y]=Object(l.useState)(!1),[w,k]=Object(l.useState)(null);Object(l.useEffect)(()=>{j()},[]);const j=async()=>{y(!0);try{await Promise.all([O(),C()])}catch(w){k("Failed to load initial data"),console.error("Error loading initial data:",w)}finally{y(!1)}},O=async()=>{try{const e=await S.get("/teams/v1/getTeams");s(0===Object.keys(e.data).length?[]:e.data)}catch(w){throw console.error("Error fetching teams:",w),w}},C=async()=>{try{const e=await S.get("/bets/v1/getBets");a(0===Object.keys(e.data).length?[]:e.data)}catch(w){throw console.error("Error fetching bets:",w),w}},T=e=>{const{name:a,value:t}=e.target;o(e=>({...e,[a]:t}))},x=()=>m.teamA&&m.teamB&&m.betName&&m.date&&m.hour,A=()=>{o({teamA:"",teamB:"",betName:"",date:"",hour:""})},B=async(e,a)=>{try{await S.post("betsManager/v1/manualWinUpdate",{id:e,howWins:a}),await C()}catch(w){k("Failed to update winner"),console.error("Error updating winner:",w)}},$=e=>{const{name:a,value:t,files:l}=e.target;N("image"===a?e=>({...e,image:l[0]}):e=>({...e,[a]:t}))};return f?n.a.createElement("div",{className:"loading-spinner"},"Loading..."):n.a.createElement("div",{className:"manager-container"},n.a.createElement(I,null),n.a.createElement("h2",{className:"manager-title"},"Manager Bet Control"),w&&n.a.createElement("div",{className:"error-message"},w),n.a.createElement("div",{className:"form-grid"},n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("select",{className:"form-select",name:"teamA",value:m.teamA,onChange:T},n.a.createElement("option",{value:""},"Select Team A"),t.map(e=>n.a.createElement("option",{key:e.id,value:e.name},e.name))),n.a.createElement("button",{className:"add-button",onClick:()=>{u(!0),h("teamA")}},"+")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("select",{className:"form-select",name:"teamB",value:m.teamB,onChange:T},n.a.createElement("option",{value:""},"Select Team B"),t.map(e=>n.a.createElement("option",{key:e.id,value:e.name},e.name))),n.a.createElement("button",{className:"add-button",onClick:()=>{u(!0),h("teamB")}},"+")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("select",{className:"form-select",name:"betName",value:m.betName,onChange:T},n.a.createElement("option",{value:""},"Select Bet Type"),c.map(e=>n.a.createElement("option",{key:e,value:e},e))),n.a.createElement("button",{className:"add-button",onClick:()=>E(!0)},"+")),n.a.createElement("input",{className:"form-input",type:"date",name:"date",value:m.date,onChange:T}),n.a.createElement("input",{className:"form-input",type:"time",name:"hour",value:m.hour,onChange:T})),n.a.createElement("button",{className:"submit-button",onClick:async()=>{if(x()){y(!0);try{const e=`${m.date} ${m.hour}`,a={...m,dateTime:e};await S.post("betsManager/v1/setBet",a),await C(),A(),k(null)}catch(w){k("Failed to add bet"),console.error("Error adding bet:",w)}finally{y(!1)}}else k("Please fill in all fields")}},"Add Bet"),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{className:"data-table"},n.a.createElement("thead",{className:"table-header"},n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Team A"),n.a.createElement("th",null,"Team B"),n.a.createElement("th",null,"Bet Type"),n.a.createElement("th",null,"How Wins"),n.a.createElement("th",null,"Date & Time"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,e.map(e=>n.a.createElement("tr",{key:e.id,className:"table-row"},n.a.createElement("td",{className:"table-cell"},e.id),n.a.createElement("td",{className:"table-cell"},e.teamA),n.a.createElement("td",{className:"table-cell"},e.teamB),n.a.createElement("td",{className:"table-cell"},e.betName),n.a.createElement("td",{className:"table-cell"},e.howWins),n.a.createElement("td",{className:"table-cell"},e.dateTime),n.a.createElement("td",{className:"table-cell"},n.a.createElement("button",{className:"action-button win-button",onClick:()=>B(e.id,1)},"Team A Win"),n.a.createElement("button",{className:"action-button win-button",onClick:()=>B(e.id,2)},"Team B Win"),n.a.createElement("button",{className:"action-button remove-button",onClick:()=>(async e=>{try{await S.post("betsManager/v1/setBetAsExpired",{id:e}),await C()}catch(w){k("Failed to remove bet"),console.error("Error removing bet:",w)}})(e.id)},"Remove"))))))),n.a.createElement(P,{isOpen:i,onClose:()=>u(!1)},n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),p.name&&p.image)try{const e={name:p.name,image:URL.createObjectURL(p.image)};await S.post("teams/v1/setTeam",e),await O(),u(!1),o(a=>({...a,[g]:e.name})),N({name:"",image:null}),k(null)}catch(w){k("Failed to add team"),console.error("Error adding team:",w)}else k("Please provide both team name and image")},className:"modal-form"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"teamName"},"Team Name"),n.a.createElement("input",{type:"text",id:"teamName",name:"name",value:p.name,onChange:$,className:"modal-input",required:!0})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"teamImage"},"Team Image"),n.a.createElement("input",{type:"file",id:"teamImage",name:"image",onChange:$,className:"file-input",accept:"image/*",required:!0})),n.a.createElement("button",{type:"submit",className:"submit-button"},"Add Team"))),n.a.createElement(P,{isOpen:d,onClose:()=>E(!1)},n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),v?c.includes(v)?k("This bet name already exists"):(r(e=>[...e,v]),E(!1),o(e=>({...e,betName:v})),b(""),k(null)):k("Please provide a bet name")},className:"modal-form"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"betName"},"New Bet Type"),n.a.createElement("input",{type:"text",id:"betName",value:v,onChange:e=>b(e.target.value),className:"modal-input",required:!0})),n.a.createElement("button",{type:"submit",className:"submit-button"},"Add Bet Type"))))},F=t(13),q=t(3);var L=()=>{return localStorage.getItem("accessToken")?n.a.createElement(q.b,null):n.a.createElement(q.a,{to:"/login"})};var U=()=>{return(async()=>{let e;try{e=(await S.get("/auth/v1/getPermission?role=manager")).data}catch(a){e=!1}return e})()?n.a.createElement(q.b,null):n.a.createElement(q.a,{to:"/"})};const z=e=>{let{children:a}=e;return W()?n.a.createElement(q.a,{to:"/",replace:!0}):a},W=()=>localStorage.getItem("accessToken"),D=()=>{W()&&(window.location.href="/")};t(96);var R=()=>{const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)("");return Object(l.useEffect)(()=>{!async function(){const e=await S.get("leagues/v1/getUserLeague");s(e.data.name),a([...e.data.players].sort((e,a)=>a.points-e.points))}()},[]),n.a.createElement("div",{className:"league-table-container"},n.a.createElement("div",{className:"league-header"},n.a.createElement("h2",{className:"league-title"},t)),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{className:"rankings-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u05de\u05d9\u05e7\u05d5\u05dd"),n.a.createElement("th",null,"\u05db\u05d9\u05e0\u05d5\u05d9"),n.a.createElement("th",null,"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"))),n.a.createElement("tbody",null,e.map((e,a)=>n.a.createElement("tr",{key:e.nickname},n.a.createElement("td",{className:"position-cell"},"#",a+1),n.a.createElement("td",{className:"nickname-cell"},e.nickname),n.a.createElement("td",{className:"points-cell"},e.points)))))),n.a.createElement(E,null))};t(97);var M=()=>{const[e,a]=Object(l.useState)({}),[t,s]=Object(l.useState)([]);return Object(l.useEffect)(()=>{!async function(){const[e]=await Promise.all([x()]);a(e)}()},[]),n.a.createElement("div",{className:"profile-container"},n.a.createElement("div",{className:"profile-card"},n.a.createElement("div",{className:"profile-header"},n.a.createElement("div",{className:"profile-main-info"},n.a.createElement("div",null,n.a.createElement("div",{className:"profile-name-section"},n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"profile-nickname"},e.nickname))),n.a.createElement("div",{className:"league-selection"},n.a.createElement("span",null,"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea: ",e.points))),n.a.createElement("div",{className:"stats-section"},n.a.createElement("div",{className:"stat-item"},"\u05d0\u05d7\u05d5\u05d6 \u05d4\u05e6\u05dc\u05d7\u05d4: ",null===e||void 0===e?void 0:e.winRate,"%"),n.a.createElement("div",{className:"stat-item"},"\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd: ",null===e||void 0===e?void 0:e.totalBets)))),n.a.createElement("div",{className:"bet-history"},n.a.createElement("h3",{className:"section-title"},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"),n.a.createElement("table",{className:"history-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),n.a.createElement("th",null,"\u05de\u05e9\u05d7\u05e7"),n.a.createElement("th",null,"\u05d4\u05d9\u05de\u05d5\u05e8"),n.a.createElement("th",null,"\u05ea\u05d5\u05e6\u05d0\u05d4"),n.a.createElement("th",null,"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"))),n.a.createElement("tbody",null,(null===e||void 0===e?void 0:e.betHistory)&&e.betHistory.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"plain-text"},e.date),n.a.createElement("td",{className:"plain-text"},e.game),n.a.createElement("td",{className:"plain-text"},e.bet),n.a.createElement("td",{className:e.result===e.bet?"result-win":"result-loss"},e.result),n.a.createElement("td",{className:e.points.startsWith("+")?"points-positive":"points-negative"},e.points))))))),n.a.createElement(E,null))};t(98);var H=()=>{const[e,a]=Object(l.useState)(null),[t,s]=Object(l.useState)([]);Object(l.useEffect)(()=>{c()},[]);const c=async()=>{const e=await S.get("/gameRules/v1/getRules");s(e.data)},r=t=>{a(e===t?null:t)};return n.a.createElement("div",{className:"rules-container"},n.a.createElement("div",{className:"rules-header"},n.a.createElement("h1",null,"\u05d7\u05d5\u05e7\u05d9 \u05d4\u05de\u05e9\u05d7\u05e7"),n.a.createElement("p",null,"\u05db\u05dc \u05de\u05d4 \u05e9\u05e6\u05e8\u05d9\u05da \u05dc\u05d3\u05e2\u05ea \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc \u05dc\u05e9\u05d7\u05e7")),n.a.createElement("div",{className:"rules-content"},t.map(a=>n.a.createElement("div",{key:a.id,className:"rules-section"},n.a.createElement("button",{className:"section-button",onClick:()=>r(a.id)},n.a.createElement("div",{className:"section-header"},n.a.createElement("span",{className:"section-icon"},a.icon),n.a.createElement("h2",{className:"section-title"},a.title)),n.a.createElement("span",{className:`arrow-icon ${e===a.id?"expanded":""}`},"\u25bc")),n.a.createElement("div",{className:`section-content ${e===a.id?"expanded":""}`},n.a.createElement("div",{className:"section-content-inner"},n.a.createElement("ul",{className:"rules-list"},a.rules.map((e,a)=>n.a.createElement("li",{key:a},e)))))))),n.a.createElement("div",{className:"quick-nav"},n.a.createElement("h3",null,"\u05e0\u05d9\u05d5\u05d5\u05d8 \u05de\u05d4\u05d9\u05e8"),n.a.createElement("div",{className:"quick-nav-buttons"},t.map(a=>n.a.createElement("button",{key:a.id,onClick:()=>r(a.id),className:`quick-nav-button ${e===a.id?"active":""}`},a.icon," ",a.title)))),n.a.createElement(E,null))};const J=new o.a.Agent({rejectUnauthorized:!1});var _=e=>{let{loginCheck:a}=e;const[t,s]=Object(l.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[c,m]=Object(l.useState)(""),[o,i]=Object(l.useState)(!1),u=e=>{const{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))};return n.a.createElement("div",{className:"auth-container"},n.a.createElement("div",{className:"auth-form-wrapper"},n.a.createElement("h2",{className:"auth-title"},"\u05d4\u05e8\u05e9\u05de\u05d4"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),t.email&&t.password&&t.confirmPassword&&t.firstName&&t.lastName?t.password!==t.confirmPassword?(m("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05d0\u05d9\u05e0\u05df \u05ea\u05d5\u05d0\u05de\u05d5\u05ea"),0):!(t.password.length<6)||(m("\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 6 \u05ea\u05d5\u05d5\u05d9\u05dd"),0):(m("\u05d0\u05e0\u05d0 \u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea"),0)){i(!0),m("");try{const e=await r.a.post("auth/v1/signup",{email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName},{httpsAgent:J});if(201===e.status){const e=await r.a.post("auth/v1/signIn",{username:t.email,password:t.password},{httpsAgent:J});localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("refreshToken",e.data.refreshToken),a()}else m(e.data)}catch(n){var l;409===(null===(l=n.response)||void 0===l?void 0:l.status)?m("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05de\u05ea \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(m("\u05d4\u05ea\u05e8\u05d7\u05e9\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e8\u05e9\u05de\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1."),console.error("Signup error:",n))}finally{i(!1)}}},className:"auth-form"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",name:"firstName",placeholder:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",value:t.firstName,onChange:u,required:!0,className:"auth-input"})),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",name:"lastName",placeholder:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",value:t.lastName,onChange:u,required:!0,className:"auth-input"})),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"email",name:"email",placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",value:t.email,onChange:u,required:!0,className:"auth-input"})),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",value:t.password,onChange:u,required:!0,className:"auth-input"})),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4",value:t.confirmPassword,onChange:u,required:!0,className:"auth-input"})),n.a.createElement("button",{type:"submit",className:`auth-submit ${o?"loading":""}`,disabled:o},o?"\u05de\u05d1\u05e6\u05e2 \u05d4\u05e8\u05e9\u05de\u05d4...":"\u05d4\u05d9\u05e8\u05e9\u05dd"),c&&n.a.createElement("div",{className:"auth-alert"},c)),n.a.createElement("div",{className:"auth-footer"},n.a.createElement("p",null,"\u05db\u05d1\u05e8 \u05d9\u05e9 \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df?"," ",n.a.createElement("a",{href:"/login",className:"auth-link"},"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d0\u05df")))))};var V=()=>n.a.createElement(F.a,null,n.a.createElement(q.e,null,n.a.createElement(q.c,{path:"/"},n.a.createElement(q.c,{element:n.a.createElement(L,null)},n.a.createElement(q.c,{element:n.a.createElement(U,null)},n.a.createElement(q.c,{path:"manager",element:n.a.createElement($,null)})),n.a.createElement(q.c,{index:!0,element:n.a.createElement(B,null)}),n.a.createElement(q.c,{path:"league",element:n.a.createElement(R,null)}),n.a.createElement(q.c,{path:"rules",element:n.a.createElement(H,null)}),n.a.createElement(q.c,{path:"profile",element:n.a.createElement(M,null)})),n.a.createElement(q.c,{path:"login",element:n.a.createElement(z,null,n.a.createElement(u,{loginCheck:D}))}),n.a.createElement(q.c,{path:"Signup",element:n.a.createElement(z,null,n.a.createElement(_,{loginCheck:D}))}))));var G=()=>n.a.createElement("div",{className:"container"},n.a.createElement(V,null));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(G,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.10ba1a52.chunk.js.map